<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data-Driven – analysis-of-gross-profit-contribution</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="style.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Data-Driven</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./blog.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#section" id="toc-section" class="nav-link active" data-scroll-target="#section"><img src="Blog/image_3.png" class="img-fluid" style="width:25.0%"></a></li>
  <li><a href="#analysis-of-gross-profit-contribution-for-major-customer-to-cubi-benchmarks" id="toc-analysis-of-gross-profit-contribution-for-major-customer-to-cubi-benchmarks" class="nav-link" data-scroll-target="#analysis-of-gross-profit-contribution-for-major-customer-to-cubi-benchmarks"><strong style="color: #1C244B;">Analysis of Gross Profit Contribution for Major Customer to CUBI Benchmarks</strong></a>
  <ul class="collapse">
  <li><a href="#identify-the-problem" id="toc-identify-the-problem" class="nav-link" data-scroll-target="#identify-the-problem"><strong style="color: #1C244B;">Identify the Problem:</strong></a></li>
  <li><a href="#challenge-traditional-approaches" id="toc-challenge-traditional-approaches" class="nav-link" data-scroll-target="#challenge-traditional-approaches"><strong style="color: #1C244B;">Challenge Traditional Approaches:</strong></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<div class="quarto-about-jolla">
 <div id="about-block">
</div>  
</div>

<hr>
<div>

</div>
<section id="section" class="level1">
<h1><img src="Blog/image_3.png" class="img-fluid" style="width:25.0%"></h1>
</section>
<section id="analysis-of-gross-profit-contribution-for-major-customer-to-cubi-benchmarks" class="level1">
<h1><strong style="color: #1C244B;">Analysis of Gross Profit Contribution for Major Customer to CUBI Benchmarks</strong></h1>
<section id="identify-the-problem" class="level3">
<h3 data-anchor-id="identify-the-problem"><strong style="color: #1C244B;">Identify the Problem:</strong></h3>
<p><strong style="color: #1C244B;"><strong>Problem:</strong></strong> Brian, after investing $500,000 in new information systems, felt overwhelmed by the extensive data output. Despite the system being designed by a trusted accounting firm, the information was so extensive that Brian felt he had lost his grip on the business. This, combined with a noticeable slowing down of cash flow, indicated potential issues in the business’s performance.</p>
<p><strong style="color: #1C244B;">Determine Key Metrics:</strong></p>
<p><strong style="color: #1C244B;"><strong>Key Metrics:</strong></strong></p>
<ul>
<li><p>Gross Profit Contribution per Production Hour</p></li>
<li><p>Production Hours Billed vs.&nbsp;Production Hours Available for Billing</p></li>
<li><p>Planned Average Gross Profit per Production Hour</p></li>
<li><p>Actual Gross Profit per Hour in Sales to Major Customers</p></li>
<li><p>Charged Unit Benchmark Index (CUBI)</p></li>
</ul>
<p><strong style="color: #1C244B;"><strong>Determine Key Metrics:</strong></strong></p>
<ul>
<li><p>Request budgeted sales, materials at cost, and production hours for the year.</p></li>
<li><p>Use the provided data from:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data frame</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Label =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span>),</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Description =</span> <span class="fu">c</span>(<span class="st">"Sales"</span>, <span class="st">"Materials at Cost Price"</span>, <span class="st">"Gross Profit Contribution"</span>, </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"Production Hours"</span>, <span class="st">"Target Average Contribution Per Hour"</span>),</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Value =</span> <span class="fu">c</span>(<span class="st">"$60,000,000"</span>, <span class="st">"$40,000,000"</span>, <span class="st">"$20,000,000"</span>, <span class="st">"250,000 hours"</span>, <span class="st">"$80"</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure that all column names are properly assigned</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Label"</span>, <span class="st">"Description"</span>, <span class="st">"Value"</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a customized table using kable and kableExtra with the specified caption</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(data, <span class="at">format =</span> <span class="st">"html"</span>, </span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Table 2-1: Target Average Contribution per Hour"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>),</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>, <span class="at">position =</span> <span class="st">"left"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">background =</span> <span class="st">"#f2f2f2"</span>)  <span class="co"># Bold and highlight the header row</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<caption>Table 2-1: Target Average Contribution per Hour</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #f2f2f2 !important;">Label</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #f2f2f2 !important;">Description</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold; background-color: #f2f2f2 !important;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">A</td>
<td style="text-align: left;">Sales</td>
<td style="text-align: left;">$60,000,000</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">B</td>
<td style="text-align: left;">Materials at Cost Price</td>
<td style="text-align: left;">$40,000,000</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">C</td>
<td style="text-align: left;">Gross Profit Contribution</td>
<td style="text-align: left;">$20,000,000</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">D</td>
<td style="text-align: left;">Production Hours</td>
<td style="text-align: left;">250,000 hours</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">E</td>
<td style="text-align: left;">Target Average Contribution Per Hour</td>
<td style="text-align: left;">$80</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<p><strong>Note:</strong></p>
<table class="table">
<tbody>
<tr class="odd">
<td>Label C</td>
<td>( C = A - B )</td>
</tr>
<tr class="even">
<td>Label E</td>
<td>( E = D / E)</td>
</tr>
</tbody>
</table>
</section>
<section id="challenge-traditional-approaches" class="level2">
<h2 data-anchor-id="challenge-traditional-approaches"><strong style="color: #1C244B;">Challenge Traditional Approaches:</strong></h2>
<p><strong style="color: #1C244B;"><strong>Traditional Method:</strong></strong> The company traditionally calculates gross profit by adding factory wages and expenses to the materials before deducting from sales. This method is based on the idea that factory wages and expenses vary with production, but as pointed out in the scenario, these costs have become more fixed in nature.</p>
<p><strong style="color: #1C244B;"><strong>Establish Benchmarks:</strong></strong></p>
<ul>
<li>Use the calculated CUBI of $80 as a benchmark.</li>
</ul>
<p><strong style="color: #1C244B;"><strong>Analyze Major Customers:</strong></strong></p>
<ul>
<li><p>Identify the business’s biggest customers.</p></li>
<li><p>Analyze a few typical invoices for these major customers. Use the data from:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data frame</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Invoice Number</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"2765"</span>, <span class="st">"2958"</span>, <span class="st">"3015"</span>, <span class="st">"Total"</span>),</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Invoice Price Net of Tax ($)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"$100,000"</span>, <span class="st">"$300,000"</span>, <span class="st">"$150,000"</span>, <span class="st">"$550,000"</span>),</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Materials Used ($)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"$68,000"</span>, <span class="st">"$200,000"</span>, <span class="st">"$102,000"</span>, <span class="st">"$370,000"</span>),</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Gross Profit Contribution ($)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"$32,000"</span>, <span class="st">"$100,000"</span>, <span class="st">"$48,000"</span>, <span class="st">"$180,000"</span>),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Gross Profit (%)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">32</span>, <span class="dv">33</span>, <span class="dv">32</span>, <span class="dv">33</span>),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at"># of Hours</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">914</span>, <span class="dv">3125</span>, <span class="dv">1450</span>, <span class="dv">5489</span>),</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Average $ Per Hour</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">35</span>, <span class="dv">32</span>, <span class="dv">33</span>, <span class="dv">33</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a customized table using kable and kableExtra with the specified caption</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(data, <span class="at">format =</span> <span class="st">"html"</span>, </span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Table 2-2: Invoice Analysis of Number One Customer"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>),</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">TRUE</span>, <span class="at">position =</span> <span class="st">"center"</span>, <span class="at">font_size =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">4</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">background =</span> <span class="st">"#f2f2f2"</span>)  <span class="co"># Bold and highlight the "Total" row</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<caption>Table 2-2: Invoice Analysis of Number One Customer</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Invoice.Number</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Invoice.Price.Net.of.Tax....</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Materials.Used....</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Gross.Profit.Contribution....</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Gross.Profit....</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X..of.Hours</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Average...Per.Hour</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">2765</td>
<td style="text-align: left;">$100,000</td>
<td style="text-align: left;">$68,000</td>
<td style="text-align: left;">$32,000</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">914</td>
<td style="text-align: right;">35</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">2958</td>
<td style="text-align: left;">$300,000</td>
<td style="text-align: left;">$200,000</td>
<td style="text-align: left;">$100,000</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">3125</td>
<td style="text-align: right;">32</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">3015</td>
<td style="text-align: left;">$150,000</td>
<td style="text-align: left;">$102,000</td>
<td style="text-align: left;">$48,000</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">1450</td>
<td style="text-align: right;">33</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; font-weight: bold; background-color: #f2f2f2 !important;">Total</td>
<td style="text-align: left; font-weight: bold; background-color: #f2f2f2 !important;">$550,000</td>
<td style="text-align: left; font-weight: bold; background-color: #f2f2f2 !important;">$370,000</td>
<td style="text-align: left; font-weight: bold; background-color: #f2f2f2 !important;">$180,000</td>
<td style="text-align: right; font-weight: bold; background-color: #f2f2f2 !important;">33</td>
<td style="text-align: right; font-weight: bold; background-color: #f2f2f2 !important;">5489</td>
<td style="text-align: right; font-weight: bold; background-color: #f2f2f2 !important;">33</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<p><strong>Note:</strong></p>
<table class="table">
<tbody>
<tr class="odd">
<td>Invoice Price Net of Tax ($)</td>
<td>( A )</td>
</tr>
<tr class="even">
<td>Materials Used ($)</td>
<td>( B )</td>
</tr>
<tr class="odd">
<td>Gross Profit Contribution ($)</td>
<td>( C = A - B )</td>
</tr>
<tr class="even">
<td>Gross Profit (%)</td>
<td>( D = C / A )</td>
</tr>
<tr class="odd">
<td>Number of Hours</td>
<td>( E )</td>
</tr>
<tr class="even">
<td>Average $ Per Hour</td>
<td>( F = C / E )</td>
</tr>
</tbody>
</table>
<p><strong style="color: #1C244B;"><strong>Compare Actual Performance to Benchmarks:</strong></strong></p>
<ul>
<li><p>Compare the actual gross profit contribution per production hour from major customers to the CUBI.</p></li>
<li><p>The analysis revealed that the company is getting an average gross profit contribution of $33 per hour from its largest customer who is taking 55% of output when the required average, based on the CUBI, is $80.</p></li>
<li><p>This significant discrepancy indicates that the business’s performance, at least with respect to this major customer, is falling short of the target benchmarks.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'scales' was built under R version 4.1.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame with the given values and corresponding invoice numbers</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Invoice =</span> <span class="fu">c</span>(<span class="st">"2765"</span>, <span class="st">"2958"</span>, <span class="st">"3015"</span>, <span class="st">"Total"</span>),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Value =</span> <span class="fu">c</span>(<span class="dv">35</span>, <span class="dv">32</span>, <span class="dv">33</span>, <span class="dv">33</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a ggplot</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> Invoice, <span class="at">y =</span> Value)) <span class="sc">+</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"#1877F2"</span>, <span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">ifelse</span>(Value <span class="sc">&lt;</span> <span class="dv">80</span>, <span class="st">"below"</span>, <span class="st">"above"</span>))) <span class="sc">+</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">80</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Hourly Rates Compared to $80 Threshold"</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Invoice Number"</span>,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Average $ Per Hour"</span>,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Position"</span>) <span class="sc">+</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Analysis-of-Gross-Profit-Contribution_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong style="color: #1C244B;"><strong>Determine Implications:</strong></strong></p>
<ul>
<li>Calculate the implications of the current performance on the business’s overall goals using the data from:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Given data and calculations</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># A: 250,000 hours * 80</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>A_result <span class="ot">&lt;-</span> <span class="dv">250000</span> <span class="sc">*</span> <span class="dv">80</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co"># B: (250,000 * 55%)</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>B_result <span class="ot">&lt;-</span> <span class="dv">250000</span> <span class="sc">*</span> <span class="fl">0.55</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># C: 137,500 hours * $33</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>C_result <span class="ot">&lt;-</span> <span class="dv">137500</span> <span class="sc">*</span> <span class="dv">33</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co"># D: Balance Required (assuming it's A - C)</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>D_result <span class="ot">&lt;-</span> A_result <span class="sc">-</span> C_result</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co"># E: Hours Available (250,000 hours – 137,500)</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>E_result <span class="ot">&lt;-</span> <span class="dv">250000</span> <span class="sc">-</span> <span class="dv">137500</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co"># F: Average Rate per Hour Required (assuming it's D / E)</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>F_result <span class="ot">&lt;-</span> D_result <span class="sc">/</span> E_result</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Format results with commas and two decimal places</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>formatted_results <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">format</span>(A_result, <span class="at">big.mark=</span><span class="st">","</span>, <span class="at">scientific=</span><span class="cn">FALSE</span>, <span class="at">digits=</span><span class="dv">2</span>),</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">format</span>(B_result, <span class="at">big.mark=</span><span class="st">","</span>, <span class="at">scientific=</span><span class="cn">FALSE</span>, <span class="at">digits=</span><span class="dv">2</span>),</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">format</span>(C_result, <span class="at">big.mark=</span><span class="st">","</span>, <span class="at">scientific=</span><span class="cn">FALSE</span>, <span class="at">digits=</span><span class="dv">2</span>),</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">format</span>(D_result, <span class="at">big.mark=</span><span class="st">","</span>, <span class="at">scientific=</span><span class="cn">FALSE</span>, <span class="at">digits=</span><span class="dv">2</span>),</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">format</span>(E_result, <span class="at">big.mark=</span><span class="st">","</span>, <span class="at">scientific=</span><span class="cn">FALSE</span>, <span class="at">digits=</span><span class="dv">2</span>),</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">format</span>(<span class="fu">round</span>(F_result, <span class="dv">2</span>), <span class="at">big.mark=</span><span class="st">","</span>, <span class="at">scientific=</span><span class="cn">FALSE</span>, <span class="at">digits=</span><span class="dv">2</span>)) <span class="co"># Round F_result to 2 decimal places</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Display results</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">Item =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span>, <span class="st">"F"</span>),</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">Result =</span> formatted_results</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the necessary libraries</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Provided data</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">Item =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span>, <span class="st">"F"</span>),</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">Value =</span> <span class="fu">c</span>(<span class="st">"20,000,000"</span>, <span class="st">"137,500"</span>, <span class="st">"4,537,500"</span>, <span class="st">"15,462,500"</span>, <span class="st">"112,500"</span>, <span class="st">"137.44 Average Rate Required Per Hour"</span>)</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the kable table with the same styling as the working example</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>kable_table <span class="ot">&lt;-</span> <span class="fu">kable</span>(data, <span class="at">format =</span> <span class="st">"html"</span>, <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Item"</span>, <span class="st">"Value"</span>), </span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>                     <span class="at">caption =</span> <span class="st">"Table 2-3: Implications for Balance of Customer"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>),</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>, <span class="at">font_size =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> T)  <span class="co"># Make the header row bold</span></span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the kable table</span></span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>kable_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<caption>Table 2-3: Implications for Balance of Customer</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Item</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">A</td>
<td style="text-align: left;">20,000,000</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">B</td>
<td style="text-align: left;">137,500</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">C</td>
<td style="text-align: left;">4,537,500</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">D</td>
<td style="text-align: left;">15,462,500</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">E</td>
<td style="text-align: left;">112,500</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">F</td>
<td style="text-align: left;">137.44 Average Rate Required Per Hour</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<p><strong>Note:</strong></p>
<table class="table">
<tbody>
<tr class="odd">
<td>Label D</td>
<td>( A - C )</td>
</tr>
<tr class="even">
<td>Label F</td>
<td>( E = D / E )</td>
</tr>
</tbody>
</table>
<p><strong style="color: #1C244B;"><strong>Recommend Solutions:</strong></strong></p>
<p>&nbsp;&nbsp;&nbsp;Improving Efficiency in Production:</p>
<ul>
<li>Reduce Production Hours for Major Customers: Consider reducing the number of production hours scheduled for your best customer.</li>
<li>Re-evaluate Production Processes: Identify inefficiencies or bottlenecks.</li>
<li>Training and Skill Development: Invest in training programs.</li>
<li>Reducing Costs:</li>
<li>Material Costs Reduction: Explore ways to reduce material costs.</li>
<li>Minimize Waste: Implement strategies to cut back on waste.</li>
<li>Re-evaluate Fixed Costs: Review fixed costs.</li>
</ul>
<p><strong style="color: #1C244B;"><strong>Feedback and Reporting:</strong></strong></p>
<ul>
<li>Emphasize the importance of timely and relevant feedback.</li>
</ul>
<p><strong style="color: #1C244B;"><strong>Reflect on the Analysis:</strong></strong></p>
<ul>
<li>Reflect on the findings and their implications for the business.</li>
</ul>
<p><strong style="color: #1C244B;"><strong>Recommend Further Analysis (if necessary):</strong></strong></p>
<ul>
<li>Recommend further in-depth analysis if the initial analysis reveals significant issues.</li>
</ul>



</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>